(this["webpackJsonpblindtest-spotify"]=this["webpackJsonpblindtest-spotify"]||[]).push([[0],{17:function(e,t,n){e.exports=n.p+"static/media/logo.79f6b6a0.svg"},18:function(e,t,n){e.exports=n.p+"static/media/loading.9d4cbf40.svg"},19:function(e,t,n){e.exports=n(48)},24:function(e,t,n){},25:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(16),s=n.n(r),c=(n(24),n(4)),i=n(17),l=n.n(i),u=n(18),m=n.n(u),d=(n(25),n(7)),p=n.n(d);n(47);var h=e=>o.a.createElement("button",{onClick:e.onClick},e.children);const f=({track:e})=>{const t=e.album.images[0].url;return o.a.createElement("img",{src:t,style:{width:400,height:400}})};function g(e){return Math.floor(Math.random()*e)}var v=()=>{const e=Object(a.useState)(),t=Object(c.a)(e,2),n=t[0],r=t[1],s=Object(a.useState)(!1),i=Object(c.a)(s,2),u=i[0],d=i[1],v=Object(a.useState)(null),b=Object(c.a)(v,2),E=b[0],w=b[1],k=Object(a.useState)(),N=Object(c.a)(k,2),A=N[0],O=N[1];Object(a.useEffect)(()=>{fetch("https://api.spotify.com/v1/me/tracks",{method:"GET",headers:{Authorization:"Bearer BQAfAt1fU6-v9bErnmr0T7mhJGXcgieVV4mNokxl2NIg4oGLEJ1QuNTO3Ys7fETbSqBogO0rWbG5zuPFHpuIDT6xUkHLiRGG5Jos2CuI2rWSVtlEvJMVmrdFbFiVXP__FEKGeCK9WzzzShLo1bYVX9Z4u98OpHVaTPfooNCJYb_a"}}).then(e=>e.json()).then(e=>{r(e.items);const t=g(e.items.length);w(e.items[t].track),d(!0)})},[]),Object(a.useEffect)(()=>{O(setTimeout(()=>j(),3e4))},[E]);if(!u)return o.a.createElement("div",{className:"App"},o.a.createElement("header",{className:"App-header"},o.a.createElement("img",{src:m.a,className:"App-logo",alt:"logo"})));const j=()=>{if(!n)return;const e=g(n.length);w(n[e].track)},y=g(n.length),C=g(n.length),T=E,B=function(e){let t=e.length;for(;t>0;){let n=g(t);t--;let a=e[t];e[t]=e[n],e[n]=a}return e}([T,n[y].track,n[C].track]);return o.a.createElement("div",{className:"App"},o.a.createElement("header",{className:"App-header"},o.a.createElement("img",{src:l.a,className:"App-logo",alt:"logo"}),o.a.createElement("h1",{className:"App-title"},"Bienvenue sur le Blindtest Coucou")),o.a.createElement("div",{className:"App-images"},o.a.createElement(f,{track:T}),o.a.createElement(p.a,{url:E.preview_url,playStatus:p.a.status.PLAYING})),o.a.createElement("div",{className:"App-buttons"},B.map(e=>o.a.createElement(h,{onClick:()=>{return t=e.id,void(E.id===t?(clearTimeout(A),swal("Bravo !","Tu as gagn\xe9","success").then(()=>j())):swal("Essaye encore","Ce n\u2019est pas la bonne r\xe9ponse","error"));var t}},e.name))))};const b=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function E(e){navigator.serviceWorker.register(e).then(e=>{e.onupdatefound=()=>{const t=e.installing;t.onstatechange=()=>{"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(e=>{console.error("Error during service worker registration:",e)})}s.a.render(o.a.createElement(v,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/blindtest-spotify",window.location).origin!==window.location.origin)return;window.addEventListener("load",()=>{const e="".concat("/blindtest-spotify","/service-worker.js");b?function(e){fetch(e).then(t=>{404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(e=>{e.unregister().then(()=>{window.location.reload()})}):E(e)}).catch(()=>{console.log("No internet connection found. App is running in offline mode.")})}(e):E(e)})}}()}},[[19,1,2]]]);
//# sourceMappingURL=main.3d40b32b.chunk.js.map